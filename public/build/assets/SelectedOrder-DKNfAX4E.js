import{_ as g}from"./StatusBadge-BpZHIHv5.js";import{z as x,g as r,o as n,i as l,b as e,t as a,a as f,f as v,C as b,S as c,s as y}from"./app-CWXSK6_e.js";const h={key:0,class:"bg-white shadow-md rounded-lg p-2 px-4 w-3/4 lg:w-full m-4 mx-auto hover:scale-[1.02] transition-all transform ease-in-out duration-300"},p={key:0,class:"flex bg-red-100 text-center text-red-600 py-1 rounded-full text-sm font-semibold w-full mt-2 lg:mt-0"},w={class:"mx-auto"},C={key:1,class:"flex bg-approveGreen/30 text-center text-approveGreen py-1 rounded-full text-sm font-semibold w-full mt-2 lg:mt-0"},_={class:"lg:flex justify-between items-center mx-auto"},k={class:"md:text-lg lg:text-xl"},S={class:"font-extrabold"},B={class:"flex items-center justify-between mt-4"},E={class:"flex-col"},O={class:"text-start text-3xl font-bold"},N={class:"flex text-sm mt-2"},V={class:"text-center text-secondary"},D={class:"text-center text-secondary"},T={class:"flex items-center gap-2"},j={class:"text-center text-midBlue font-bold"},z={key:1,class:"mx-auto w-3/4 bg-white rounded-lg p-4"},R={__name:"SelectedOrder",props:{order:Object},setup(t){const i=x().props.auth.user,d=t;console.log("order in:",d.order);const u=()=>{c.fire({title:"¿Estás seguro?",text:"¡No podrás revertir esto!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Sí, cancelar orden",cancelButtonText:"Cancelar"}).then(o=>{o.isConfirmed&&(m(),c.fire("¡Cancelada!","La orden ha sido cancelada.","success"))})},m=async()=>{try{await y.post(`/orders/update/${d.order.id}`,{status:"Cancelada",user_name:i.name},{preserveState:!0,onSuccess:()=>{d.order.status="Cancelada",console.log("Orden cancelada")},onError:o=>{console.error("Error al cancelar la orden:",o)}})}catch(o){console.error("Error en la solicitud:",o)}};return(o,s)=>t.order?(n(),r("div",h,[t.order.status==="Cancelada"?(n(),r("div",p,[e("span",w," Cancelada por "+a(t.order.cancelled_by??"Admin"),1)])):l("",!0),t.order.status==="Completada"?(n(),r("div",C,[...s[0]||(s[0]=[e("span",{class:"mx-auto"}," Venta Finalizada ",-1)])])):l("",!0),e("div",_,[e("h2",k,[s[1]||(s[1]=v(" Orden ",-1)),e("span",S,"ID # "+a(t.order.id??"0000"),1),s[2]||(s[2]=e("img",{src:"assets/icons/svg/links/copy.svg",alt:"Copy Icon",class:"inline w-6 ml-2 cursor-pointer"},null,-1))]),f(g,{class:""})]),e("div",B,[e("div",E,[e("h2",O," Mesa "+a(t.order.table.number??"7"),1),e("div",N,[e("p",V,a(t.order.date_time?new Date(t.order.date_time).toLocaleTimeString().slice(0,-1):"-"),1),e("p",D,a(t.order.date_time?new Date(t.order.date_time).toLocaleDateString():"-"),1)])]),t.order.status==="En curso"?(n(),r("button",{key:0,onClick:u,class:"mt-4 bg-dangerRed/30 p-2 rounded-full text-dangerRed font-bold hover:bg-dangerRed/50 transition"}," Cancelar Orden ")):l("",!0),e("button",T,[s[3]||(s[3]=e("img",{src:"assets/icons/svg/links/sheet.svg",alt:"Imagen de la orden",class:"w-6"},null,-1)),e("p",j," Export #"+a(t.order.id??""),1)])])])):(n(),r("div",z,[...s[4]||(s[4]=[b('<div class="flex animate-pulse space-x-4"><div class="size-10 rounded-full bg-gray-200"></div><div class="flex-1 space-y-6 py-1"><div class="h-2 rounded bg-gray-200"></div><div class="space-y-3"><div class="grid grid-cols-3 gap-4"><div class="col-span-2 h-2 rounded bg-gray-200"></div><div class="col-span-1 h-2 rounded bg-gray-200"></div></div><div class="h-2 rounded bg-gray-200"></div></div></div></div>',1)])]))}};export{R as default};
