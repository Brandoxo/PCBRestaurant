import{m as f,D as w,c as k,o as c,w as h,a as s,b as t,d as C,h as P,e as V,k as i,p as u,g,F as D,q as B,t as M,A as S,v as U,s as v,x as F}from"./app-BoRoOIe1.js";import{_ as l}from"./InputLabel-ryaTdGAa.js";import{_ as d}from"./InputError-DOxZeJMC.js";import{_ as G}from"./AuthenticatedLayout-C_k2pxUp.js";import{_ as N}from"./ReturnButton-abwEwAsp.js";import"./ApplicationLogo-DZ0gZCbS.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const T={class:"py-24 h-screen overflow-y-auto mx-auto sm:px-6 lg:px-8 lg:ml-64 space-y-6"},A={class:"bg-white p-6 rounded-2xl shadow-md flex"},I={class:"text-center"},R={class:"w-full pr-4 border-r flex flex-col items-center justify-center border-dashed border-2 border-gray-300 h-64 self-center p-6"},$={class:"w-1/2 pr-4 border-r self-center"},E=["value"],j={class:"w-1/2 pl-4"},q={class:"inline-flex items-center cursor-pointer"},Q={__name:"Create",props:{products:Array,categories:Array},setup(b){const p=b,n=f(null),x=r=>{n.value=r.target.files[0],console.log("Selected image file:",n.value)},a=f({category_id:"",name:"",sku:"PRDCT00-"+(p.products.length+1),image:m(""),description:"",price:"",cost:"",tax:"",is_active:!0,created_at:"",updated_at:""});function m(r){const e=p.categories.find(_=>_.id==r);return e&&["Bebidas Calientes y Frías","Bebidas sin Alcohol","Cervezas","Tequila","Whisky","Vinos","Ron","Brandy & Coñac","Mezcal","Ginebra","Vodka","Copas"].includes(e.name)?"/assets/uploads/default-drink.png":"/assets/uploads/default-food.png"}w(()=>a.value.category_id,r=>{n.value||(a.value.image=m(r))});const y=()=>{const r=new FormData;r.append("category_id",a.value.category_id),r.append("name",a.value.name),r.append("sku",a.value.sku),r.append("image",a.value.image),r.append("description",a.value.description),r.append("price",a.value.price),r.append("cost",a.value.cost),r.append("tax",a.value.tax),r.append("is_active",a.value.is_active?1:0),n.value&&r.append("image",n.value),v.post("/Menu",r,{onSuccess:()=>{F().success("Producto creado exitosamente"),a.value={category_id:"",name:"",sku:"PRDCT00-"+(p.products.length+1),image:"",description:"",price:"",cost:"",tax:"",is_active:!0,created_at:"",updated_at:""},v.visit("/Menu")},onError:e=>{console.error("Error creating product:",e)}})};return(r,e)=>(c(),k(G,null,{default:h(()=>[s(C(P),{title:"Crear Producto"}),t("div",T,[e[11]||(e[11]=t("h2",{class:"text-white mb-4 font-bold text-2xl"}," Registrar Nueva Producto ",-1)),t("div",A,[t("form",{onSubmit:V(y,["prevent"]),class:"space-y-2 w-full flex gap-4"},[t("div",I,[s(l,{for:"image",value:"Imagen del Producto"}),t("div",R,[t("input",{onChange:x,id:"image",type:"file",accept:"image/png, image/jpeg",class:"mt-2"},null,32)]),e[7]||(e[7]=t("span",{class:"text-sm text-gray-500 mt-2"},"(Solo archivos PNG o JPG)",-1))]),t("div",$,[s(l,{for:"name",value:"Nombre del Producto"}),i(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>a.value.name=o),id:"name",type:"text",class:"border p-2 rounded-lg mb-4 w-full"},null,512),[[u,a.value.name]]),s(d,{class:"mt-2"}),s(l,{for:"description",value:"Descripción del Producto"}),i(t("textarea",{"onUpdate:modelValue":e[1]||(e[1]=o=>a.value.description=o),id:"description",class:"border p-2 rounded-lg mb-4 w-full"},null,512),[[u,a.value.description]]),s(d,{class:"mt-2"}),s(l,{for:"category_id",value:"Categoría"}),i(t("select",{"onUpdate:modelValue":e[2]||(e[2]=o=>a.value.category_id=o),id:"category_id",class:"border p-2 rounded-lg mb-4 w-full"},[e[8]||(e[8]=t("option",{value:""},"Seleccionar categoría",-1)),(c(!0),g(D,null,B(p.categories,o=>(c(),g("option",{key:o.id,value:o.id},M(o.name),9,E))),128))],512),[[S,a.value.category_id]])]),t("div",j,[s(l,{for:"price",value:"Precio"}),i(t("input",{"onUpdate:modelValue":e[3]||(e[3]=o=>a.value.price=o),id:"price",type:"number",class:"border p-2 rounded-lg mb-4 w-full"},null,512),[[u,a.value.price]]),s(d,{class:"mt-2"}),s(l,{for:"cost",value:"Costo"}),i(t("input",{"onUpdate:modelValue":e[4]||(e[4]=o=>a.value.cost=o),id:"cost",type:"number",class:"border p-2 rounded-lg mb-4 w-full"},null,512),[[u,a.value.cost]]),s(d,{class:"mt-2"}),s(l,{for:"tax",value:"Impuesto"}),i(t("input",{"onUpdate:modelValue":e[5]||(e[5]=o=>a.value.tax=o),id:"tax",type:"number",class:"border p-2 rounded-lg mb-4 w-full"},null,512),[[u,a.value.tax]]),s(d,{class:"mt-2"}),s(d,{class:"mt-2"}),s(l,{for:"is_active",value:"Disponible"}),t("label",q,[i(t("input",{type:"checkbox",class:"sr-only peer","onUpdate:modelValue":e[6]||(e[6]=o=>a.value.is_active=o),id:"is_active"},null,512),[[U,a.value.is_active]]),e[9]||(e[9]=t("div",{class:"relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600 dark:peer-checked:bg-blue-600"},null,-1))]),s(d,{class:"mt-2"})]),e[10]||(e[10]=t("button",{type:"submit",class:"bg-approveGreen hover:bg-green-700 text-white px-4 py-2 rounded-lg self-end"}," Guardar Producto ",-1))],32)]),s(N)])]),_:1}))}};export{Q as default};
