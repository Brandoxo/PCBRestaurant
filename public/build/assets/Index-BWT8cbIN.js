import{_ as k}from"./AuthenticatedLayout-BQ1VThxn.js";import{j as m,m as f,g as p,o as _,a as t,d as n,h as D,w as g,b as e,i as $,f as h,t as T,F as B}from"./app-CsP7x5_r.js";import v from"./TotalOrders-Aj6h_fBd.js";import x from"./TotalRevenue-Dvw4OoOR.js";import b from"./TotalCancelled-CgMLFwjf.js";import{D as I}from"./DangerButton-CN-AnTNe.js";import w from"./AllOrders-BtzhVN1W.js";import y from"./SelectedOrder-CJhhUdGJ.js";import O from"./OrderDetails-DoO14ctZ.js";import"./ApplicationLogo-BSVogC0q.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./StatusBadge-B6ZjF_Wp.js";import"./Modal-DFU7laGl.js";const V={class:"py-20 h-screen overflow-y-auto"},R={class:"mx-auto sm:px-6 lg:px-8 lg:ml-64"},j={key:0,class:"overflow-hidden bg-white shadow-sm sm:rounded-lg w-fit flex justify-between mx-auto"},A={class:"p-6 text-gray-900 text-xl text-center"},F={class:"font-bold"},P={class:"lg:flex justify-center gap-2 lg:gap-8 2xl:gap-60 mt-6"},W={class:"grid grid-cols-2 gap-2 lg:hidden"},E={class:"hidden lg:block w-full"},U={class:"hidden lg:block w-full"},X={class:"hidden lg:block w-full"},q={class:"py-4 lg:hidden"},z={class:"hidden lg:flex gap-4"},G={class:"mt-6 min-w-96 2xl:min-w-[900px] overflow-y-auto h-[36rem] 2xl:h-screen mx-auto scrollbar-hide"},H={class:"mt-6 w-2/4 flex flex-col gap-4 mx-auto"},J={class:"flex flex-col lg:hidden gap-4"},K={class:"overflow-y-auto h-96 scrollbar-hide"},de={__name:"Index",props:{totalProducts:Number,totalCategories:Number,totalUsers:Number,totalOrders:Number,sales:Array,orders:Array},setup(C){const s=C;console.log("Sales prop in <Dashboard>: ",s.sales);const N=new Date().toISOString().split("T")[0],a=m(()=>s.sales.filter(o=>new Date(o.date_time).toISOString().split("T")[0]===N).reduce((o,l)=>o+parseFloat(l.subtotal),0));console.log("Total Income: ",a.value);const d=m(()=>(s.orders||[]).filter(o=>o.status==="Cancelada").length),i=s.orders,c=f(!0),S=()=>{c.value=!1},r=f(null),u=o=>{r.value=o};return(o,l)=>(_(),p(B,null,[t(n(D),{title:"Dashboard"}),t(k,null,{default:g(()=>[e("div",V,[e("div",R,[c.value&&o.count===0?(_(),p("div",j,[e("h2",A,[l[0]||(l[0]=h(" ¡Bienvenido al Panel de Control! ",-1)),l[1]||(l[1]=e("br",null,null,-1)),e("span",F,T(o.$page.props.auth.user.name),1)]),t(I,{class:"mr-2 mt-2 h-8",onClick:S},{default:g(()=>[...l[2]||(l[2]=[h("X",-1)])]),_:1})])):$("",!0),e("div",P,[e("div",W,[t(v,{totalOrders:s.totalOrders},null,8,["totalOrders"]),t(x,{totalRevenue:a.value},null,8,["totalRevenue"])]),e("div",E,[t(v,{totalOrders:s.totalOrders},null,8,["totalOrders"])]),e("div",U,[t(x,{totalRevenue:a.value},null,8,["totalRevenue"])]),e("div",X,[t(b,{totalCancelled:d.value},null,8,["totalCancelled"])]),e("div",q,[t(b,{totalCancelled:d.value},null,8,["totalCancelled"])])]),e("div",z,[e("div",G,[l[3]||(l[3]=e("h2",{class:"text-lg font-bold text-white text-center mb-2"}," Todas las órdenes ",-1)),t(w,{orders:n(i),onSelect:u},null,8,["orders"])]),e("div",H,[t(y,{order:r.value},null,8,["order"]),t(O,{order:r.value},null,8,["order"])])]),e("div",J,[t(y,{order:r.value},null,8,["order"]),e("div",K,[l[4]||(l[4]=e("h2",{class:"text-lg font-bold text-white text-center mb-2"}," Todas las órdenes ",-1)),t(w,{orders:n(i),onSelect:u},null,8,["orders"])]),t(O,{order:r.value},null,8,["order"])])])])]),_:1})],64))}};export{de as default};
