import{_ as M}from"./AuthenticatedLayout-C6XpCtvd.js";import{j as d,m as f,g as h,o as p,a as l,d as i,h as N,w as v,b as t,i as Y,f as x,t as $,F as B}from"./app-CxbOl7Wq.js";import w from"./TotalOrders-BFQKh4Fr.js";import D from"./TotalRevenue-DSRoQ-bo.js";import b from"./TotalCancelled-CT8CE30e.js";import{D as V}from"./DangerButton-Cv6iJyex.js";import y from"./AllOrders-GDMGKufw.js";import C from"./SelectedOrder-CLZpTy51.js";import F from"./OrderDetails-C8MBtPUV.js";import"./ApplicationLogo-Bh5zYRkn.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./currencyFormatter-WI6XgGo9.js";import"./StatusBadge-DgB45FVv.js";import"./Modal-D4nDFCW4.js";import"./Switch-AHcElYFH.js";const R={class:"py-20 h-screen overflow-y-auto"},S={class:"mx-auto sm:px-6 lg:px-8 lg:ml-64"},j={key:0,class:"overflow-hidden bg-white shadow-sm sm:rounded-lg w-fit flex justify-between mx-auto"},A={class:"p-6 text-gray-900 text-xl text-center"},I={class:"font-bold"},P={class:"lg:flex justify-center gap-2 lg:gap-8 2xl:gap-60 mt-6"},W={class:"grid grid-cols-2 gap-2 lg:hidden"},E={class:"hidden lg:block w-full"},U={class:"hidden lg:block w-full"},X={class:"hidden lg:block w-full"},q={class:"py-4 lg:hidden"},z={class:"hidden lg:flex gap-4"},G={class:"mt-6 min-w-96 2xl:min-w-[900px] overflow-y-auto h-[36rem] 2xl:h-screen mx-auto scrollbar-hide"},H={class:"mt-6 w-2/4 flex flex-col gap-4 mx-auto"},J={class:"flex flex-col lg:hidden gap-4"},K={class:"overflow-y-auto h-96 scrollbar-hide"},me={__name:"Index",props:{totalProducts:Number,totalCategories:Number,totalUsers:Number,sales:Array,orders:Array},setup(O){const s=O;console.log("Sales prop in <Dashboard>: ",s.sales);const o=new Date,T=o.getFullYear()+"-"+(o.getMonth()+1)+"-"+o.getDate();console.log("Today's date: ",T);const n=d(()=>s.sales.filter(e=>e.is_courtesy===0&&new Date(e.date_time).getFullYear()===o.getFullYear()&&new Date(e.date_time).getMonth()===o.getMonth()&&new Date(e.date_time).getDate()===o.getDate()).reduce((e,a)=>e+parseFloat(a.subtotal),0));console.log("Total Income: ",n.value);const u=d(()=>s.orders.filter(e=>new Date(e.date_time).getFullYear()===o.getFullYear()&&new Date(e.date_time).getMonth()===o.getMonth()&&new Date(e.date_time).getDate()===o.getDate()).length),c=d(()=>s.orders.filter(e=>new Date(e.date_time).getFullYear()===o.getFullYear()&&new Date(e.date_time).getMonth()===o.getMonth()&&new Date(e.date_time).getDate()===o.getDate()&&e.status==="Cancelada").length),m=s.orders,g=f(!0),k=()=>{g.value=!1},r=f(null),_=e=>{r.value=e};return(e,a)=>(p(),h(B,null,[l(i(N),{title:"Dashboard"}),l(M,null,{default:v(()=>[t("div",R,[t("div",S,[g.value&&e.count===0?(p(),h("div",j,[t("h2",A,[a[0]||(a[0]=x(" ¡Bienvenido al Panel de Control! ",-1)),a[1]||(a[1]=t("br",null,null,-1)),t("span",I,$(e.$page.props.auth.user.name),1)]),l(V,{class:"mr-2 mt-2 h-8",onClick:k},{default:v(()=>[...a[2]||(a[2]=[x("X",-1)])]),_:1})])):Y("",!0),t("div",P,[t("div",W,[l(w,{totalOrders:u.value},null,8,["totalOrders"]),l(D,{totalRevenue:n.value},null,8,["totalRevenue"])]),t("div",E,[l(w,{totalOrders:u.value},null,8,["totalOrders"])]),t("div",U,[l(D,{totalRevenue:n.value},null,8,["totalRevenue"])]),t("div",X,[l(b,{totalCancelled:c.value},null,8,["totalCancelled"])]),t("div",q,[l(b,{totalCancelled:c.value},null,8,["totalCancelled"])])]),t("div",z,[t("div",G,[a[3]||(a[3]=t("h2",{class:"text-lg font-bold text-white text-center mb-2"}," Todas las órdenes ",-1)),l(y,{orders:i(m),onSelect:_},null,8,["orders"])]),t("div",H,[l(C,{order:r.value},null,8,["order"]),l(F,{order:r.value},null,8,["order"])])]),t("div",J,[l(C,{order:r.value},null,8,["order"]),t("div",K,[a[4]||(a[4]=t("h2",{class:"text-lg font-bold text-white text-center mb-2"}," Todas las órdenes ",-1)),l(y,{orders:i(m),onSelect:_},null,8,["orders"])]),l(F,{order:r.value},null,8,["order"])])])])]),_:1})],64))}};export{me as default};
