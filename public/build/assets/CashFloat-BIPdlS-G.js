import{y,r as x,g as t,d as f,o as s,b as e,f as n,k as u,q as i,x as c}from"./app-DmJCh1b2.js";import{i as F}from"./isAdmin-CxJfx9ZD.js";const h={key:0,class:"p-6 bg-white border-b border-gray-200"},v={class:"flex items-center"},k={key:1,class:"p-6 bg-white border-b border-gray-200"},C={class:"flex items-center"},w={key:0,class:"ml-4 px-4 py-2 bg-blue-600 text-white rounded-md",disabled:""},j={key:1,class:"ml-4 px-4 py-2 bg-green-400 text-white rounded-md cursor-not-allowed",disabled:""},M={__name:"CashFloat",props:{users:Array,cashFloats:Array},setup(m){const a=m,l=y(),r=x(a.cashFloats.length?a.cashFloats[0].amount:0),b=a.cashFloats.length?a.cashFloats[0].id:null,p=()=>{console.log("Creando nuevo fondo de caja con monto:",r.value,"por el usuario ID:",user.id),c.post("/CashFloat/Store",{amount:r.value,user_id:user.id,type:"open"},{onSuccess:()=>{l.success("Fondo de caja creado correctamente.")},onError:()=>{console.error("Error al crear el fondo de caja",error),l.error("Error al crear el fondo de caja.")}})},g=()=>{console.log("Monto del flotante de caja guardado:",r.value,"por el usuario ID:",user.id),c.post("/CashFloat/Update",{id:b,amount:r.value,user_id:user.id,type:"open"},{onSuccess:()=>{l.success("Fondo de caja guardado correctamente.")},onError:()=>{console.error("Error al guardar el fondo de caja",error),l.error("Error al guardar el fondo de caja.")}})};return(E,o)=>f(F)()?(s(),t("div",h,[o[4]||(o[4]=e("h3",{class:"font-semibold text-lg"},"Fondo de Caja",-1)),o[5]||(o[5]=e("p",{class:"mb-6 text-sm text-gray-600"},"Configura el monto inicial del fondo de caja.",-1)),e("div",v,[o[2]||(o[2]=e("label",{class:"block text-sm font-medium text-gray-700 mr-4"},"Monto Inicial:",-1)),o[3]||(o[3]=n(" $",-1)),u(e("input",{type:"number",class:"mt-1 block w-1/4 border border-gray-300 rounded-md shadow-sm p-2","onUpdate:modelValue":o[0]||(o[0]=d=>r.value=d),min:"0"},null,512),[[i,r.value]]),a.cashFloats.length?(s(),t("button",{key:0,class:"ml-4 px-4 py-2 bg-blue-600 text-white rounded-md",onClick:g}," Guardar ")):(s(),t("button",{key:1,class:"ml-4 px-4 py-2 bg-green-400 text-white rounded-md",onClick:p}," Crear "))])])):(s(),t("div",k,[o[8]||(o[8]=e("h3",{class:"font-semibold text-lg"},"Fondo de Caja",-1)),o[9]||(o[9]=e("p",{class:"m text-sm text-gray-600"},"Configura el monto inicial del fondo de caja.",-1)),e("div",C,[o[6]||(o[6]=e("label",{class:"block text-sm font-medium text-gray-700 mr-4"},"Monto Inicial:",-1)),o[7]||(o[7]=n(" $",-1)),u(e("input",{type:"number",class:"mt-1 block w-1/4 border border-gray-300 rounded-md shadow-sm p-2 cursor-not-allowed bg-gray-100","onUpdate:modelValue":o[1]||(o[1]=d=>r.value=d),min:"0",disabled:""},null,512),[[i,r.value]]),a.cashFloats.length?(s(),t("button",w," Guardar ")):(s(),t("button",j," Crear "))])]))}};export{M as default};
