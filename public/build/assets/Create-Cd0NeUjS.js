import{m,c as _,o as c,w as y,a as o,b as a,d as w,h as k,e as h,k as d,p as u,g as f,F as P,x as C,t as V,z as D,v as S,q as v,s as U}from"./app-1_flsrAA.js";import{_ as s}from"./InputLabel-BWt_JfsC.js";import{_ as i}from"./InputError-CWQbNGcO.js";import{_ as M}from"./AuthenticatedLayout-BAV0X4Vv.js";import{_ as N}from"./ReturnButton-DGncDqPQ.js";import"./ApplicationLogo-C0e5m65t.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const B={class:"py-24 h-screen overflow-y-auto mx-auto sm:px-6 lg:px-8 lg:ml-64 space-y-6"},F={class:"bg-white p-6 rounded-2xl shadow-md flex"},G={class:"text-center"},T={class:"w-full pr-4 border-r flex flex-col items-center justify-center border-dashed border-2 border-gray-300 h-64 self-center p-6"},$={class:"w-1/2 pr-4 border-r self-center"},E=["value"],I={class:"w-1/2 pl-4"},R={class:"inline-flex items-center cursor-pointer"},K={__name:"Create",props:{products:Array,categories:Array},setup(g){const p=g,n=m(null),b=l=>{n.value=l.target.files[0],console.log("Selected image file:",n.value)},t=m({category_id:"",name:"",sku:"PRDCT00-"+(p.products.length+1),image:"",description:"",price:"",cost:"",tax:"",is_active:"true",created_at:"",updated_at:""}),x=()=>{const l=new FormData;l.append("category_id",t.value.category_id),l.append("name",t.value.name),l.append("sku",t.value.sku),l.append("image",n.value),l.append("description",t.value.description),l.append("price",t.value.price),l.append("cost",t.value.cost),l.append("tax",t.value.tax),l.append("is_active",t.value.is_active?1:0),n.value&&l.append("image",n.value),v.post("/Menu",l,{onSuccess:()=>{U().success("Producto creado exitosamente"),t.value={category_id:"",name:"",sku:"PRDCT00-"+(p.products.length+1),image:"",description:"",price:"",cost:"",tax:"",is_active:!0,created_at:"",updated_at:""},v.visit("/Menu")},onError:e=>{console.error("Error creating product:",e)}})};return(l,e)=>(c(),_(M,null,{default:y(()=>[o(w(k),{title:"Crear Producto"}),a("div",B,[e[11]||(e[11]=a("h2",{class:"text-white mb-4 font-bold text-2xl"},"Registrar Nueva Producto",-1)),a("div",F,[a("form",{onSubmit:h(x,["prevent"]),class:"space-y-2 w-full flex gap-4"},[a("div",G,[o(s,{for:"image",value:"Imagen del Producto"}),a("div",T,[a("input",{onChange:b,id:"image",type:"file",accept:"image/png, image/jpeg",class:"mt-2"},null,32)]),e[7]||(e[7]=a("span",{class:"text-sm text-gray-500 mt-2"},"(Solo archivos PNG o JPG)",-1))]),a("div",$,[o(s,{for:"name",value:"Nombre del Producto"}),d(a("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>t.value.name=r),id:"name",type:"text",class:"border p-2 rounded-lg mb-4 w-full"},null,512),[[u,t.value.name]]),o(i,{class:"mt-2"}),o(s,{for:"description",value:"Descripción del Producto"}),d(a("textarea",{"onUpdate:modelValue":e[1]||(e[1]=r=>t.value.description=r),id:"description",class:"border p-2 rounded-lg mb-4 w-full"},null,512),[[u,t.value.description]]),o(i,{class:"mt-2"}),o(s,{for:"category_id",value:"Categoría"}),d(a("select",{"onUpdate:modelValue":e[2]||(e[2]=r=>t.value.category_id=r),id:"category_id",class:"border p-2 rounded-lg mb-4 w-full"},[e[8]||(e[8]=a("option",{value:""},"Seleccionar categoría",-1)),(c(!0),f(P,null,C(p.categories,r=>(c(),f("option",{key:r.id,value:r.id},V(r.name),9,E))),128))],512),[[D,t.value.category_id]])]),a("div",I,[o(s,{for:"price",value:"Precio"}),d(a("input",{"onUpdate:modelValue":e[3]||(e[3]=r=>t.value.price=r),id:"price",type:"number",class:"border p-2 rounded-lg mb-4 w-full"},null,512),[[u,t.value.price]]),o(i,{class:"mt-2"}),o(s,{for:"cost",value:"Costo"}),d(a("input",{"onUpdate:modelValue":e[4]||(e[4]=r=>t.value.cost=r),id:"cost",type:"number",class:"border p-2 rounded-lg mb-4 w-full"},null,512),[[u,t.value.cost]]),o(i,{class:"mt-2"}),o(s,{for:"tax",value:"Impuesto"}),d(a("input",{"onUpdate:modelValue":e[5]||(e[5]=r=>t.value.tax=r),id:"tax",type:"number",class:"border p-2 rounded-lg mb-4 w-full"},null,512),[[u,t.value.tax]]),o(i,{class:"mt-2"}),o(i,{class:"mt-2"}),o(s,{for:"is_active",value:"Disponible"}),a("label",R,[d(a("input",{type:"checkbox",class:"sr-only peer","onUpdate:modelValue":e[6]||(e[6]=r=>t.value.is_active=r),id:"is_active"},null,512),[[S,t.value.is_active]]),e[9]||(e[9]=a("div",{class:"relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600 dark:peer-checked:bg-blue-600"},null,-1))]),o(i,{class:"mt-2"})]),e[10]||(e[10]=a("button",{type:"submit",class:"bg-approveGreen hover:bg-green-700 text-white px-4 py-2 rounded-lg self-end"},"Guardar Producto",-1))],32)]),o(N)])]),_:1}))}};export{K as default};
