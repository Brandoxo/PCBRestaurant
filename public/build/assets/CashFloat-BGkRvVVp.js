import{y as x,r as f,g as t,d as F,o as s,b as e,f as u,k as i,q as c,x as m}from"./app-DAFVx_ll.js";import{i as n}from"./isAdmin-D17vN1RS.js";const h={key:0,class:"p-6 bg-white border-b border-gray-200"},v={class:"flex items-center"},k={key:1,class:"p-6 bg-white border-b border-gray-200"},C={class:"flex items-center"},w={key:0,class:"ml-4 px-4 py-2 bg-blue-600 text-white rounded-md",disabled:""},j={key:1,class:"ml-4 px-4 py-2 bg-green-400 text-white rounded-md cursor-not-allowed",disabled:""},M={__name:"CashFloat",props:{users:Array,cashFloats:Array},setup(b){const r=b,l=x(),a=f(r.cashFloats.length?r.cashFloats[0].amount:0),p=r.cashFloats.length?r.cashFloats[0].id:null,g=()=>{console.log("Creando nuevo fondo de caja con monto:",a.value,"por el usuario ID:",n().id),m.post("/CashFloat/Store",{amount:a.value,user_id:n().id,type:"open"},{onSuccess:()=>{l.success("Fondo de caja creado correctamente.")},onError:()=>{console.error("Error al crear el fondo de caja",error),l.error("Error al crear el fondo de caja.")}})},y=()=>{console.log("Monto del flotante de caja guardado:",a.value,"por el usuario ID:",user.id),m.post("/CashFloat/Update",{id:p,amount:a.value,user_id:user.id,type:"open"},{onSuccess:()=>{l.success("Fondo de caja guardado correctamente.")},onError:()=>{console.error("Error al guardar el fondo de caja",error),l.error("Error al guardar el fondo de caja.")}})};return(E,o)=>F(n)()?(s(),t("div",h,[o[4]||(o[4]=e("h3",{class:"font-semibold text-lg"},"Fondo de Caja",-1)),o[5]||(o[5]=e("p",{class:"mb-6 text-sm text-gray-600"},"Configura el monto inicial del fondo de caja.",-1)),e("div",v,[o[2]||(o[2]=e("label",{class:"block text-sm font-medium text-gray-700 mr-4"},"Monto Inicial:",-1)),o[3]||(o[3]=u(" $",-1)),i(e("input",{type:"number",class:"mt-1 block w-1/4 border border-gray-300 rounded-md shadow-sm p-2","onUpdate:modelValue":o[0]||(o[0]=d=>a.value=d),min:"0"},null,512),[[c,a.value]]),r.cashFloats.length?(s(),t("button",{key:0,class:"ml-4 px-4 py-2 bg-blue-600 text-white rounded-md",onClick:y}," Guardar ")):(s(),t("button",{key:1,class:"ml-4 px-4 py-2 bg-green-400 text-white rounded-md",onClick:g}," Crear "))])])):(s(),t("div",k,[o[8]||(o[8]=e("h3",{class:"font-semibold text-lg"},"Fondo de Caja",-1)),o[9]||(o[9]=e("p",{class:"m text-sm text-gray-600"},"Configura el monto inicial del fondo de caja.",-1)),e("div",C,[o[6]||(o[6]=e("label",{class:"block text-sm font-medium text-gray-700 mr-4"},"Monto Inicial:",-1)),o[7]||(o[7]=u(" $",-1)),i(e("input",{type:"number",class:"mt-1 block w-1/4 border border-gray-300 rounded-md shadow-sm p-2 cursor-not-allowed bg-gray-100","onUpdate:modelValue":o[1]||(o[1]=d=>a.value=d),min:"0",disabled:""},null,512),[[c,a.value]]),r.cashFloats.length?(s(),t("button",w," Guardar ")):(s(),t("button",j," Crear "))])]))}};export{M as default};
