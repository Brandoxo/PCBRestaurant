import{m as v,D as w,c as C,o as c,w as k,a as r,b as t,d as P,h,e as V,k as i,p as u,g,F as D,q as S,t as B,A as M,v as U,s as f,x as F}from"./app-CwLjmkj5.js";import{_ as l}from"./InputLabel-BCPqdbFB.js";import{_ as n}from"./InputError-BvdTYRyC.js";import{_ as G}from"./AuthenticatedLayout-CofgdmUP.js";import{_ as N}from"./ReturnButton-XAc-IBve.js";import{S as T}from"./Switch-JgSsAwHp.js";import"./ApplicationLogo-BF-E93e5.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const A={class:"py-24 h-screen overflow-y-auto mx-auto sm:px-6 lg:px-8 lg:ml-64 space-y-6"},I={class:"bg-white p-6 rounded-2xl shadow-md flex"},R={class:"text-center"},$={class:"w-full pr-4 border-r flex flex-col items-center justify-center border-dashed border-2 border-gray-300 h-64 self-center p-6"},E={class:"w-1/2 pr-4 border-r self-center"},j=["value"],q={class:"w-1/2 pl-4"},z={class:"inline-flex items-center cursor-pointer"},Y={__name:"Create",props:{products:Array,categories:Array},setup(b){const p=b,d=v(null),x=o=>{d.value=o.target.files[0],console.log("Selected image file:",d.value)},a=v({category_id:"",name:"",sku:"PRDCT00-"+(p.products.length+1),image:m(""),description:"",price:"",cost:"",tax:"",is_active:!0,created_at:"",updated_at:""});function m(o){const e=p.categories.find(y=>y.id==o);return e&&["Bebidas Calientes y Frías","Bebidas sin Alcohol","Cervezas","Tequila","Whisky","Vinos","Ron","Brandy & Coñac","Mezcal","Ginebra","Vodka","Copas"].includes(e.name)?"/assets/uploads/default-drink.png":"/assets/uploads/default-food.png"}w(()=>a.value.category_id,o=>{d.value||(a.value.image=m(o))});const _=()=>{const o=new FormData;o.append("category_id",a.value.category_id),o.append("name",a.value.name),o.append("sku",a.value.sku),o.append("image",a.value.image),o.append("description",a.value.description),o.append("price",a.value.price),o.append("cost",a.value.cost),o.append("tax",a.value.tax),o.append("is_active",a.value.is_active?1:0),d.value&&o.append("image",d.value),f.post("/Menu",o,{onSuccess:()=>{F().success("Producto creado exitosamente"),a.value={category_id:"",name:"",sku:"PRDCT00-"+(p.products.length+1),image:"",description:"",price:"",cost:"",tax:"",is_active:!0,created_at:"",updated_at:""},f.visit("/Menu")},onError:e=>{console.error("Error creating product:",e)}})};return(o,e)=>(c(),C(G,null,{default:k(()=>[r(P(h),{title:"Crear Producto"}),t("div",A,[e[10]||(e[10]=t("h2",{class:"text-white mb-4 font-bold text-2xl"}," Registrar Nueva Producto ",-1)),t("div",I,[t("form",{onSubmit:V(_,["prevent"]),class:"space-y-2 w-full flex gap-4"},[t("div",R,[r(l,{for:"image",value:"Imagen del Producto"}),t("div",$,[t("input",{onChange:x,id:"image",type:"file",accept:"image/png, image/jpeg",class:"mt-2"},null,32)]),e[7]||(e[7]=t("span",{class:"text-sm text-gray-500 mt-2"},"(Solo archivos PNG o JPG)",-1))]),t("div",E,[r(l,{for:"name",value:"Nombre del Producto"}),i(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>a.value.name=s),id:"name",type:"text",class:"border p-2 rounded-lg mb-4 w-full"},null,512),[[u,a.value.name]]),r(n,{class:"mt-2"}),r(l,{for:"description",value:"Descripción del Producto"}),i(t("textarea",{"onUpdate:modelValue":e[1]||(e[1]=s=>a.value.description=s),id:"description",class:"border p-2 rounded-lg mb-4 w-full"},null,512),[[u,a.value.description]]),r(n,{class:"mt-2"}),r(l,{for:"category_id",value:"Categoría"}),i(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>a.value.category_id=s),id:"category_id",class:"border p-2 rounded-lg mb-4 w-full"},[e[8]||(e[8]=t("option",{value:""},"Seleccionar categoría",-1)),(c(!0),g(D,null,S(p.categories,s=>(c(),g("option",{key:s.id,value:s.id},B(s.name),9,j))),128))],512),[[M,a.value.category_id]])]),t("div",q,[r(l,{for:"price",value:"Precio"}),i(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>a.value.price=s),id:"price",type:"number",class:"border p-2 rounded-lg mb-4 w-full"},null,512),[[u,a.value.price]]),r(n,{class:"mt-2"}),r(l,{for:"cost",value:"Costo"}),i(t("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>a.value.cost=s),id:"cost",type:"number",class:"border p-2 rounded-lg mb-4 w-full"},null,512),[[u,a.value.cost]]),r(n,{class:"mt-2"}),r(l,{for:"tax",value:"Impuesto"}),i(t("input",{"onUpdate:modelValue":e[5]||(e[5]=s=>a.value.tax=s),id:"tax",type:"number",class:"border p-2 rounded-lg mb-4 w-full"},null,512),[[u,a.value.tax]]),r(n,{class:"mt-2"}),r(n,{class:"mt-2"}),r(l,{for:"is_active",value:"Disponible"}),t("label",z,[i(t("input",{type:"checkbox",class:"sr-only peer","onUpdate:modelValue":e[6]||(e[6]=s=>a.value.is_active=s),id:"is_active"},null,512),[[U,a.value.is_active]]),r(T)]),r(n,{class:"mt-2"})]),e[9]||(e[9]=t("button",{type:"submit",class:"bg-approveGreen hover:bg-green-700 text-white px-4 py-2 rounded-lg self-end"}," Guardar Producto ",-1))],32)]),r(N)])]),_:1}))}};export{Y as default};
