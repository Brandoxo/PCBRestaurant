import{_ as x}from"./StatusBadge-DQ1scQJ8.js";import{y as f,g as r,o as n,b as e,i as l,a as v,f as c,t as a,A as b,S as i,q as y}from"./app-CXnACmzc.js";const h={key:0,class:"bg-white shadow-md rounded-lg p-2 px-4 w-3/4 lg:w-full m-4 mx-auto hover:scale-[1.02] transition-all transform ease-in-out duration-300"},p={class:"lg:flex justify-between items-center mx-auto"},w={class:"md:text-lg lg:text-xl"},C={class:"font-extrabold"},_={key:0,class:"fleex bg-red-100 text-red-600 px-3 py-1 rounded-full text-sm font-semibold w-fit mt-2 lg:mt-0"},S={class:"flex items-center justify-between mt-4"},k={class:"flex-col"},B={class:"text-start text-3xl font-bold"},E={class:"flex text-sm mt-2"},O={class:"text-center text-secondary"},N={class:"text-center text-secondary"},D={class:"flex items-center gap-2"},V={class:"text-center text-midBlue font-bold"},T={key:1,class:"mx-auto w-3/4 bg-white rounded-lg p-4"},L={__name:"SelectedOrder",props:{order:Object},setup(t){const u=f().props.auth.user,d=t;console.log("order in:",d.order);const m=()=>{i.fire({title:"¿Estás seguro?",text:"¡No podrás revertir esto!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Sí, cancelar orden",cancelButtonText:"Cancelar"}).then(o=>{o.isConfirmed&&(g(),i.fire("¡Cancelada!","La orden ha sido cancelada.","success"))})},g=async()=>{try{await y.post(`/orders/update/${d.order.id}`,{status:"Cancelada",user_name:u.name},{preserveState:!0,onSuccess:()=>{d.order.status="Cancelada",console.log("Orden cancelada")},onError:o=>{console.error("Error al cancelar la orden:",o)}})}catch(o){console.error("Error en la solicitud:",o)}};return(o,s)=>t.order?(n(),r("div",h,[e("div",p,[e("h2",w,[s[0]||(s[0]=c(" Orden ",-1)),e("span",C,"ID # "+a(t.order.id??"0000"),1),s[1]||(s[1]=e("img",{src:"assets/icons/svg/links/copy.svg",alt:"Copy Icon",class:"inline w-6 ml-2 cursor-pointer"},null,-1))]),t.order.status==="Cancelada"?(n(),r("div",_,[c(" Cancelada por "+a(t.order.cancelled_by??"Admin")+" ",1),s[2]||(s[2]=e("span",null,null,-1))])):l("",!0),v(x,{class:""})]),e("div",S,[e("div",k,[e("h2",B," Mesa "+a(t.order.table.number??"7"),1),e("div",E,[e("p",O,a(t.order.date_time?new Date(t.order.date_time).toLocaleTimeString().slice(0,-1):"-"),1),e("p",N,a(t.order.date_time?new Date(t.order.date_time).toLocaleDateString():"-"),1)])]),t.order.status==="En curso"?(n(),r("button",{key:0,onClick:m,class:"mt-4 bg-dangerRed/30 p-2 rounded-full text-dangerRed font-bold hover:bg-dangerRed/50 transition"}," Cancelar Orden ")):l("",!0),e("button",D,[s[3]||(s[3]=e("img",{src:"assets/icons/svg/links/sheet.svg",alt:"Imagen de la orden",class:"w-6"},null,-1)),e("p",V," Export #"+a(t.order.id??""),1)])])])):(n(),r("div",T,[...s[4]||(s[4]=[b('<div class="flex animate-pulse space-x-4"><div class="size-10 rounded-full bg-gray-200"></div><div class="flex-1 space-y-6 py-1"><div class="h-2 rounded bg-gray-200"></div><div class="space-y-3"><div class="grid grid-cols-3 gap-4"><div class="col-span-2 h-2 rounded bg-gray-200"></div><div class="col-span-1 h-2 rounded bg-gray-200"></div></div><div class="h-2 rounded bg-gray-200"></div></div></div></div>',1)])]))}};export{L as default};
