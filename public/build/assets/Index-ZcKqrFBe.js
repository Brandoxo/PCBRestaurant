import{_ as $}from"./AuthenticatedLayout-je9jNsTZ.js";import{j as m,m as f,g as _,o as p,a as t,d as n,h as k,w as g,b as e,i as D,f as h,t as T,F as B}from"./app-CmKu152U.js";import v from"./TotalOrders-D8No_lFQ.js";import x from"./TotalRevenue-CW8cUGc1.js";import b from"./TotalCancelled-BN2sr1XG.js";import{D as I}from"./DangerButton-AOwPx3i-.js";import w from"./AllOrders-CksPhqDL.js";import y from"./SelectedOrder-yGP_YDfo.js";import O from"./OrderDetails-DeE89E5T.js";import"./ApplicationLogo-CPcz9QF6.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./StatusBadge-B4OSckH6.js";import"./Modal-D3mCZ5t3.js";const V={class:"py-20 h-screen overflow-y-auto"},R={class:"mx-auto sm:px-6 lg:px-8 lg:ml-64"},j={key:0,class:"overflow-hidden bg-white shadow-sm sm:rounded-lg w-fit flex justify-between mx-auto"},F={class:"p-6 text-gray-900 text-xl text-center"},A={class:"font-bold"},P={class:"lg:flex justify-center gap-2 lg:gap-8 2xl:gap-60 mt-6"},W={class:"grid grid-cols-2 gap-2 lg:hidden"},E={class:"hidden lg:block w-full"},U={class:"hidden lg:block w-full"},X={class:"hidden lg:block w-full"},q={class:"py-4 lg:hidden"},z={class:"hidden lg:flex gap-4"},G={class:"mt-6 min-w-96 overflow-y-auto h-[36rem] 2xl:h-screen mx-auto scrollbar-hide"},H={class:"mt-6 w-2/4 flex flex-col gap-4 mx-auto"},J={class:"flex flex-col lg:hidden gap-4"},K={class:"overflow-y-auto h-96 scrollbar-hide"},de={__name:"Index",props:{totalProducts:Number,totalCategories:Number,totalUsers:Number,totalOrders:Number,sales:Array,orders:Array},setup(C){const s=C;console.log("Sales prop in <Dashboard>: ",s.sales);const N=new Date().toISOString().split("T")[0],r=m(()=>s.sales.filter(o=>new Date(o.date_time).toISOString().split("T")[0]===N).reduce((o,l)=>o+parseFloat(l.subtotal),0));console.log("Total Income: ",r.value);const d=m(()=>(s.orders||[]).filter(o=>o.status==="Cancelada").length),i=s.orders,c=f(!0),S=()=>{c.value=!1},a=f(null),u=o=>{a.value=o};return(o,l)=>(p(),_(B,null,[t(n(k),{title:"Dashboard"}),t($,null,{default:g(()=>[e("div",V,[e("div",R,[c.value&&o.count===0?(p(),_("div",j,[e("h2",F,[l[0]||(l[0]=h(" ¡Bienvenido al Panel de Control! ",-1)),l[1]||(l[1]=e("br",null,null,-1)),e("span",A,T(o.$page.props.auth.user.name),1)]),t(I,{class:"mr-2 mt-2 h-8",onClick:S},{default:g(()=>[...l[2]||(l[2]=[h("X",-1)])]),_:1})])):D("",!0),e("div",P,[e("div",W,[t(v,{totalOrders:s.totalOrders},null,8,["totalOrders"]),t(x,{totalRevenue:r.value},null,8,["totalRevenue"])]),e("div",E,[t(v,{totalOrders:s.totalOrders},null,8,["totalOrders"])]),e("div",U,[t(x,{totalRevenue:r.value},null,8,["totalRevenue"])]),e("div",X,[t(b,{totalCancelled:d.value},null,8,["totalCancelled"])]),e("div",q,[t(b,{totalCancelled:d.value},null,8,["totalCancelled"])])]),e("div",z,[e("div",G,[l[3]||(l[3]=e("h2",{class:"text-lg font-bold text-white text-center mb-2"}," Todas las órdenes ",-1)),t(w,{orders:n(i),onSelect:u},null,8,["orders"])]),e("div",H,[t(y,{order:a.value},null,8,["order"]),t(O,{order:a.value},null,8,["order"])])]),e("div",J,[t(y,{order:a.value},null,8,["order"]),e("div",K,[l[4]||(l[4]=e("h2",{class:"text-lg font-bold text-white text-center mb-2"}," Todas las órdenes ",-1)),t(w,{orders:n(i),onSelect:u},null,8,["orders"])]),t(O,{order:a.value},null,8,["order"])])])])]),_:1})],64))}};export{de as default};
