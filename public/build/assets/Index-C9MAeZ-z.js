import{_ as T}from"./AuthenticatedLayout-BCSFBa7f.js";import{j as i,r as v,g as _,o as p,a as o,d as c,h as k,w,b as t,i as M,f as x,t as N,F as Y}from"./app-DbiGUJdc.js";import b from"./TotalOrders-BmkAcGYB.js";import D from"./TotalRevenue-Bjw02hTA.js";import y from"./TotalCancelled-ByyvIWAk.js";import{D as $}from"./DangerButton-Kn4T3euS.js";import C from"./AllOrders--BbpvqM2.js";import R from"./SelectedOrder-DOUYBRIU.js";import S from"./OrderDetails-C3fbC01Z.js";import"./ApplicationLogo-BVsa7XAZ.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./isRoomServiceEnabled-ChMRkMiO.js";import"./isAdmin-DVsfzEus.js";import"./currencyFormatter-WI6XgGo9.js";import"./StatusBadge-C0_8Z20v.js";import"./Modal-CV1eb-om.js";import"./Switch-D0jsZmui.js";const B={class:"px-4 p-4 overflow-y-auto h-svh"},V={key:0,class:"overflow-hidden bg-white shadow-sm sm:rounded-lg w-fit flex justify-between mx-auto"},j={class:"p-6 text-gray-900 text-xl text-center"},A={class:"font-bold"},I={class:"lg:flex justify-evenly mt-2 gap-4 mx-auto lg:mx-0"},P={class:"grid grid-cols-2 lg:hidden gap-4"},W={class:"hidden lg:block w-full"},E={class:"hidden lg:block w-full"},U={class:"hidden lg:block w-full"},X={class:"py-4 lg:hidden"},q={class:"hidden lg:flex gap-4"},z={class:"mt-4 w-full overflow-y-auto h-svh mx-auto scrollbar-hide 2xl:h-svh"},G={class:"mt-2 w-full flex flex-col gap-4 overflow-y-auto h-svh 2xl:max-h-full scrollbar-hide"},H={class:"flex flex-col lg:hidden gap-4"},J={class:"overflow-y-auto h-96 scrollbar-hide"},ge={__name:"Index",props:{totalProducts:Number,totalCategories:Number,totalUsers:Number,sales:Array,orders:Array,RoomServiceConfig:Object},setup(n){const s=n;console.log("Sales prop in <Dashboard>: ",s.sales);const l=new Date,F=l.getFullYear()+"-"+(l.getMonth()+1)+"-"+l.getDate();console.log("Today's date: ",F);const d=i(()=>s.sales.filter(e=>e.is_courtesy===0&&new Date(e.date_time).getFullYear()===l.getFullYear()&&new Date(e.date_time).getMonth()===l.getMonth()&&new Date(e.date_time).getDate()===l.getDate()).reduce((e,a)=>e+parseFloat(a.subtotal),0));console.log("Total Income: ",d.value);const u=i(()=>s.orders.filter(e=>new Date(e.date_time).getFullYear()===l.getFullYear()&&new Date(e.date_time).getMonth()===l.getMonth()&&new Date(e.date_time).getDate()===l.getDate()).length),m=i(()=>s.orders.filter(e=>new Date(e.date_time).getFullYear()===l.getFullYear()&&new Date(e.date_time).getMonth()===l.getMonth()&&new Date(e.date_time).getDate()===l.getDate()&&e.status==="Cancelada").length),g=s.orders,f=v(!0),O=()=>{f.value=!1},r=v(null),h=e=>{r.value=e};return(e,a)=>(p(),_(Y,null,[o(c(k),{title:"Dashboard"}),o(T,null,{default:w(()=>[t("div",B,[f.value&&e.count===0?(p(),_("div",V,[t("h2",j,[a[0]||(a[0]=x(" ¡Bienvenido al Panel de Control! ",-1)),a[1]||(a[1]=t("br",null,null,-1)),t("span",A,N(e.$page.props.auth.user.name),1)]),o($,{class:"mr-2 mt-2 h-8",onClick:O},{default:w(()=>[...a[2]||(a[2]=[x("X",-1)])]),_:1})])):M("",!0),t("div",I,[t("div",P,[o(b,{totalOrders:u.value},null,8,["totalOrders"]),o(D,{totalRevenue:d.value},null,8,["totalRevenue"])]),t("div",W,[o(b,{totalOrders:u.value},null,8,["totalOrders"])]),t("div",E,[o(D,{totalRevenue:d.value},null,8,["totalRevenue"])]),t("div",U,[o(y,{totalCancelled:m.value},null,8,["totalCancelled"])]),t("div",X,[o(y,{totalCancelled:m.value},null,8,["totalCancelled"])])]),t("div",q,[t("div",z,[a[3]||(a[3]=t("h2",{class:"text-lg font-bold text-white text-center mb-2"}," Todas las órdenes ",-1)),o(C,{orders:c(g),onSelect:h},null,8,["orders"])]),t("div",G,[o(R,{order:r.value},null,8,["order"]),o(S,{order:r.value,RoomServiceConfig:n.RoomServiceConfig},null,8,["order","RoomServiceConfig"])])]),t("div",H,[o(R,{order:r.value},null,8,["order"]),t("div",J,[a[4]||(a[4]=t("h2",{class:"text-lg font-bold text-white text-center mb-2"}," Todas las órdenes ",-1)),o(C,{orders:c(g),onSelect:h},null,8,["orders"])]),o(S,{order:r.value,RoomServiceConfig:n.RoomServiceConfig},null,8,["order","RoomServiceConfig"])])])]),_:1})],64))}};export{ge as default};
