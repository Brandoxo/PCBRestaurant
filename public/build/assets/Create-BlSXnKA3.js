import{r as f,A as h,c as w,o as c,w as k,a as r,b as t,d as C,h as P,e as B,k as n,q as u,g as v,F as D,s as S,t as V,B as M,v as F,x as _,y as G}from"./app-DYV40hgH.js";import{_ as i}from"./InputLabel-D9Ouz-Fl.js";import{_ as p}from"./InputError-DRZDSjzI.js";import{_ as N}from"./AuthenticatedLayout-DdUCdQO6.js";import{_ as T}from"./ReturnButton-fTr9OGW2.js";import{S as U}from"./Switch-Cwkxv8Gf.js";import"./ApplicationLogo-0Gh_aC2D.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./isRoomServiceEnabled-CwpjS2O6.js";import"./isAdmin-CanmrSr_.js";const A={class:"py-60 h-screen overflow-y-auto mx-auto p-6 space-y-6 pt-6"},R={class:"bg-white p-6 rounded-2xl shadow-md flex max-w-6xl mx-auto lg:flex-row flex-col"},$={class:"text-center"},E={class:"w-full pr-4 border-r flex flex-col items-center justify-center border-dashed border-2 border-gray-300 h-64 self-center p-6"},I={class:"flex-1 lg:fle mx-auto"},j={class:"pr-4 border-r"},q={class:"pr-4"},z=["value"],J={class:"inline-flex items-center cursor-pointer"},ae={__name:"Create",props:{products:Array,categories:Array},setup(x){const d=x,l=f(null),y=o=>{l.value=o.target.files[0],console.log("Selected image file:",l.value)},a=f({category_id:"",name:"",sku:"PRDCT00-"+(d.products.length+1),image:m(""),description:"",price:"",cost:"",tax:"",is_active:!0,created_at:"",updated_at:""});function m(o){const e=d.categories.find(b=>b.id==o);return e&&["Bebidas Calientes y Frías","Bebidas sin Alcohol","Cervezas","Tequila","Whisky","Vinos","Ron","Brandy & Coñac","Mezcal","Ginebra","Vodka","Copas"].includes(e.name)?"/assets/uploads/default-drink.png":"/assets/uploads/default-food.png"}h(()=>a.value.category_id,o=>{l.value||(a.value.image=m(o))});const g=()=>{const o=new FormData;o.append("category_id",a.value.category_id),o.append("name",a.value.name),o.append("sku",a.value.sku),o.append("image",a.value.image),o.append("description",a.value.description),o.append("price",a.value.price),o.append("cost",0),o.append("tax",0),o.append("is_active",a.value.is_active?1:0),l.value&&o.append("image",l.value),_.post("/Menu",o,{onSuccess:()=>{G().success("Producto creado exitosamente"),a.value={category_id:"",name:"",sku:"PRDCT00-"+(d.products.length+1),image:"",description:"",price:"",cost:"",tax:"",is_active:!0,created_at:"",updated_at:""},_.visit("/Menu")},onError:e=>{console.error("Error creating product:",e)}})};return(o,e)=>(c(),w(N,null,{default:k(()=>[r(C(P),{title:"Crear Producto"}),t("section",A,[e[7]||(e[7]=t("h2",{class:"text-white mb-4 font-bold text-2xl"}," Registrar Nueva Producto ",-1)),t("div",R,[t("form",{onSubmit:B(g,["prevent"]),class:"space-y-2 flex-1 lg:flex gap-4 self-center"},[t("div",$,[r(i,{for:"image",value:"Imagen del Producto"}),t("div",E,[t("input",{onChange:y,id:"image",type:"file",accept:"image/png, image/jpeg",class:"mt-2"},null,32)]),e[5]||(e[5]=t("span",{class:"text-sm text-gray-500 mt-2"},"(Solo archivos PNG o JPG)",-1))]),t("div",I,[t("div",j,[r(i,{for:"name",value:"Nombre del Producto"}),n(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>a.value.name=s),id:"name",type:"text",class:"border p-2 rounded-lg mb-4 w-full"},null,512),[[u,a.value.name]]),r(p,{class:"mt-2"}),r(i,{for:"description",value:"Descripción del Producto"}),n(t("textarea",{"onUpdate:modelValue":e[1]||(e[1]=s=>a.value.description=s),id:"description",class:"border p-2 rounded-lg mb-4 w-full"},null,512),[[u,a.value.description]]),r(p,{class:"mt-2"})]),t("div",q,[r(i,{for:"category_id",value:"Categoría"}),n(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>a.value.category_id=s),id:"category_id",class:"border p-2 rounded-lg mb-4 w-full"},[e[6]||(e[6]=t("option",{value:""},"Seleccionar categoría",-1)),(c(!0),v(D,null,S(d.categories,s=>(c(),v("option",{key:s.id,value:s.id},V(s.name),9,z))),128))],512),[[M,a.value.category_id]]),r(i,{for:"price",value:"Precio"}),n(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>a.value.price=s),id:"price",type:"number",class:"border p-2 rounded-lg mb-4 w-full"},null,512),[[u,a.value.price]]),r(i,{for:"is_active",value:"Disponible"}),t("label",J,[n(t("input",{type:"checkbox",class:"sr-only peer","onUpdate:modelValue":e[4]||(e[4]=s=>a.value.is_active=s),id:"is_active"},null,512),[[F,a.value.is_active]]),r(U)]),r(p,{class:"mt-2"})])])],32),t("button",{onClick:g,class:"bg-approveGreen hover:bg-green-700 text-white px-4 py-2 rounded-lg self-end"}," Guardar Producto ")]),r(T)])]),_:1}))}};export{ae as default};
