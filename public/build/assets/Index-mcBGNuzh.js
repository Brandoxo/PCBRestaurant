import{_ as M}from"./AuthenticatedLayout-DZjR3wh6.js";import{j as d,r as _,g as h,o as v,a as l,d as i,h as N,w as p,b as t,i as Y,f as w,t as $,F as B}from"./app-DMZtkmGL.js";import x from"./TotalOrders-Cvqho7Yr.js";import b from"./TotalRevenue-Dm0xjupZ.js";import D from"./TotalCancelled-CZIpvgRA.js";import{D as V}from"./DangerButton-NvDnKXnA.js";import y from"./AllOrders-Dm1tN9o-.js";import C from"./SelectedOrder-Bkgm_mZR.js";import F from"./OrderDetails-d1LRCYqa.js";import"./ApplicationLogo-BnD1zNNQ.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./currencyFormatter-WI6XgGo9.js";import"./StatusBadge-AoORV9Do.js";import"./Modal-DzHFgKj8.js";import"./Switch-CeC4VCSW.js";const R={class:"px-4 p-4 overflow-y-auto h-svh"},S={key:0,class:"overflow-hidden bg-white shadow-sm sm:rounded-lg w-fit flex justify-between mx-auto"},j={class:"p-6 text-gray-900 text-xl text-center"},A={class:"font-bold"},I={class:"lg:flex justify-evenly mt-2 gap-4 mx-auto lg:mx-0"},P={class:"grid grid-cols-2 lg:hidden gap-4"},W={class:"hidden lg:block w-full"},E={class:"hidden lg:block w-full"},U={class:"hidden lg:block w-full"},X={class:"py-4 lg:hidden"},q={class:"hidden lg:flex gap-4"},z={class:"mt-4 w-full overflow-y-auto h-svh mx-auto scrollbar-hide 2xl:h-svh"},G={class:"mt-2 w-full flex flex-col gap-4 overflow-y-auto h-svh 2xl:max-h-full scrollbar-hide"},H={class:"flex flex-col lg:hidden gap-4"},J={class:"overflow-y-auto h-96 scrollbar-hide"},ce={__name:"Index",props:{totalProducts:Number,totalCategories:Number,totalUsers:Number,sales:Array,orders:Array},setup(O){const s=O;console.log("Sales prop in <Dashboard>: ",s.sales);const o=new Date,T=o.getFullYear()+"-"+(o.getMonth()+1)+"-"+o.getDate();console.log("Today's date: ",T);const n=d(()=>s.sales.filter(e=>e.is_courtesy===0&&new Date(e.date_time).getFullYear()===o.getFullYear()&&new Date(e.date_time).getMonth()===o.getMonth()&&new Date(e.date_time).getDate()===o.getDate()).reduce((e,a)=>e+parseFloat(a.subtotal),0));console.log("Total Income: ",n.value);const u=d(()=>s.orders.filter(e=>new Date(e.date_time).getFullYear()===o.getFullYear()&&new Date(e.date_time).getMonth()===o.getMonth()&&new Date(e.date_time).getDate()===o.getDate()).length),c=d(()=>s.orders.filter(e=>new Date(e.date_time).getFullYear()===o.getFullYear()&&new Date(e.date_time).getMonth()===o.getMonth()&&new Date(e.date_time).getDate()===o.getDate()&&e.status==="Cancelada").length),m=s.orders,g=_(!0),k=()=>{g.value=!1},r=_(null),f=e=>{r.value=e};return(e,a)=>(v(),h(B,null,[l(i(N),{title:"Dashboard"}),l(M,null,{default:p(()=>[t("div",R,[g.value&&e.count===0?(v(),h("div",S,[t("h2",j,[a[0]||(a[0]=w(" ¡Bienvenido al Panel de Control! ",-1)),a[1]||(a[1]=t("br",null,null,-1)),t("span",A,$(e.$page.props.auth.user.name),1)]),l(V,{class:"mr-2 mt-2 h-8",onClick:k},{default:p(()=>[...a[2]||(a[2]=[w("X",-1)])]),_:1})])):Y("",!0),t("div",I,[t("div",P,[l(x,{totalOrders:u.value},null,8,["totalOrders"]),l(b,{totalRevenue:n.value},null,8,["totalRevenue"])]),t("div",W,[l(x,{totalOrders:u.value},null,8,["totalOrders"])]),t("div",E,[l(b,{totalRevenue:n.value},null,8,["totalRevenue"])]),t("div",U,[l(D,{totalCancelled:c.value},null,8,["totalCancelled"])]),t("div",X,[l(D,{totalCancelled:c.value},null,8,["totalCancelled"])])]),t("div",q,[t("div",z,[a[3]||(a[3]=t("h2",{class:"text-lg font-bold text-white text-center mb-2"}," Todas las órdenes ",-1)),l(y,{orders:i(m),onSelect:f},null,8,["orders"])]),t("div",G,[l(C,{order:r.value},null,8,["order"]),l(F,{order:r.value},null,8,["order"])])]),t("div",H,[l(C,{order:r.value},null,8,["order"]),t("div",J,[a[4]||(a[4]=t("h2",{class:"text-lg font-bold text-white text-center mb-2"}," Todas las órdenes ",-1)),l(y,{orders:i(m),onSelect:f},null,8,["orders"])]),l(F,{order:r.value},null,8,["order"])])])]),_:1})],64))}};export{ce as default};
